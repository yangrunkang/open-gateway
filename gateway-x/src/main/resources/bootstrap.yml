eureka:
  client:
    serviceUrl:
      defaultZone: http://localhost:8761/eureka/
server:
  port: 8764
spring:
    application:
      name: gateway-x
    cloud:
      # 只需要指明url和name就行
      config:
        # 指明远程仓库的分支
        #label: master
        # name
        # 环境
        #profile: 'test'  默认是default
        # 配置服务中心的网址
        uri: http://localhost:8888/
        # 指定读取配置中心哪个文件 默认文件明是 name + "-" + profile.properties
        #   也只有指定这个,git上的变更了,这里才可以读取到(/actuator/refresh),不能使用本服务的spring.application.name这个值
        # 这个没有被服务中心使用,所以即使 gateway-x + "-" + profile.properties 值更新了,也不能实时读取到,只有
        # 重启才可以读取到!
        # 客户端重新读取配置 使用post方法请求 curl -X POST http://localhost:8764/actuator/refresh
        name: gateway-x-config
feign:
  hystrix:
    # Feign是自带断路器的，在D版本的Spring Cloud之后，它没有默认打开。需要在配置文件中配置打开它
    enabled: true
# Spring Boot 1.5.X 以上默认开通了安全认证，所以要在配置文件 application.yml 中
# 添加以下配置以将/actuator/refresh这个 Endpoint 暴露出来
management:
  endpoints:
    web:
      exposure:
        include: refresh
# 后续我们将继续学习如何通过 Spring Cloud Bus 来实现以消息总线的方式进行通知配置信息的变化，完成集群上的自动化更新
